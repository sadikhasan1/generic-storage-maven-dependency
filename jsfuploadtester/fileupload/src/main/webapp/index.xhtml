<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>File Upload Example</title>
</h:head>
<h:body>
    <h:form enctype="multipart/form-data">
        <p:fileUpload value="#{fileUploadBean.file}"
                      mode="advanced"
                      multiple="false"
                      auto="true"
                      update="messages" />
        <p:commandButton value="Upload"
                         action="#{fileUploadBean.upload}"
                         update="messages, downloadButton" />
        <p:messages id="messages" />
        <h:panelGroup id="downloadButton">
            <h:commandButton value="Download"
                             action="#{fileUploadBean.download}"
                             rendered="#{not empty fileUploadBean.filepath}"
                             immediate="true"
                             disableClientWindow="true" />
        </h:panelGroup>
    </h:form>
</h:body>
</html>
